{% extends "fan/_fan_base.html" %}

{% block title %}{{ wrestler.Name }}{% endblock %}

{% block fan_content %}
<div class="header-bar">
    <h2>{{ wrestler.Name }}</h2>
    <div class="action-buttons">
        <a href="{{ url_for('fan.roster') }}">Back to Roster</a>
    </div>
</div>

{% if wrestler.Belt %}
<div class="champion-banner">
    <h3>Current {{ wrestler.get('current_champion_title_display', wrestler.Belt) }}</h3>
</div>
{% endif %}

<div class="details-card-grid">
    <div class="details-card">
        <div class="card-header"><h3>Profile</h3></div>
        <div class="card-content">
            {% if wrestler.Nickname %}<p><strong>Nickname:</strong> {{ wrestler.Nickname }}</p>{% endif %}
            <p><strong>Location:</strong> {{ wrestler.Location or 'Parts Unknown' }}</p>
            <p><strong>Height:</strong> {{ wrestler.Height }}</p>
            <p><strong>Weight:</strong> {{ wrestler.Weight }} {{ prefs.weight_unit }}</p>
            {% if wrestler.DOB %}<p><strong>Date of Birth:</strong> {{ wrestler.DOB }}</p>{% endif %}
            <p><strong>Alignment:</strong> {{ wrestler.Alignment }}</p>
            {% if wrestler.Music %}<p><strong>Entrance Music:</strong> {{ wrestler.Music }}</p>{% endif %}
        </div>
    </div>

    {% if prefs.fan_mode_show_profile_records %}
    <div class="details-card">
        <div class="card-header"><h3>Record</h3></div>
        <div class="card-content">
            <h4>Singles</h4>
            <p>{{ wrestler.Singles_Wins | default('0') }}-{{ wrestler.Singles_Losses | default('0') }}-{{ wrestler.Singles_Draws | default('0') }}</p>
            <h4>Tag Team</h4>
            <p>{{ wrestler.Tag_Wins | default('0') }}-{{ wrestler.Tag_Losses | default('0') }}-{{ wrestler.Tag_Draws | default('0') }}</p>
            <hr>
            <h4>Overall</h4>
            <p>{{ total_record.wins }}-{{ total_record.losses }}-{{ total_record.draws }}</p>
        </div>
    </div>
    {% endif %}

    {% if wrestler.Manager or wrestler.Team or wrestler.Faction %}
    <div class="details-card">
        <div class="card-header"><h3>Affiliations</h3></div>
        <div class="card-content">
            {% if wrestler.Manager %}<p><strong>Manager:</strong> {{ wrestler.Manager }}</p>{% endif %}
            {% if wrestler.Team %}<p><strong>Tag-Team:</strong> {{ wrestler.Team }}</p>{% endif %}
            {% if wrestler.Faction %}<p><strong>Faction:</strong> {{ wrestler.Faction }}</p>{% endif %}
        </div>
    </div>
    {% endif %}

    {% if wrestler.moves_list %}
    <div class="details-card full-width">
        <div class="card-header"><h3>Signature Moves</h3></div>
        <div class="card-content">
            <ul>
                {% for move in wrestler.moves_list %}
                    <li>{{ move }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endif %}

    {% if wrestler.awards_list %}
    <div class="details-card full-width">
        <div class="card-header"><h3>Accomplishments</h3></div>
        <div class="card-content">
            <ul>
                {% for award in wrestler.awards_list %}
                    <li>{{ award }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endif %}

    {% if prefs.fan_mode_show_contract_info %}
    <div class="details-card full-width">
        <div class="card-header"><h3>Contract Information</h3></div>
        <div class="card-content">
            <p><strong>Real Name:</strong> {{ wrestler.Real_Name }}</p>
            <p><strong>Start Date:</strong> {{ wrestler.Start_Date }}</p>
            {% if wrestler.salary_list %}
            <h4>Salary History</h4>
            <ul>
                {% for item in wrestler.salary_list %}
                    <li>{{ item }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
